(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-homePage-homePage~pages-home-homePage-homePage2~pages-home-homePage-homePageOld~pages-hom~e1b32030"],{"4bea":function(e,n,t){"use strict";t("6a54"),t("0c26"),t("8f71"),t("bf0f"),t("fd3c"),t("5c47"),t("a1c1"),t("0506"),Object.defineProperty(n,"__esModule",{value:!0}),n.trim=n.isObject=n.isNil=n.isNan=n.size=n.isString=n.validateLocale=n.splitSentences=void 0;n.splitSentences=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map((function(e){return a(e)})).filter(Boolean)};var o=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i;n.validateLocale=function(e){return"string"===typeof e&&o.test(e)};var i=function(e){return"string"===typeof e||e instanceof String};n.isString=i;n.size=function(e){return e&&Array.isArray(e)&&e.length?e.length:0};n.isNan=function(e){return"number"===typeof e&&isNaN(e)};n.isNil=function(e){return null===e||void 0===e};n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var a=function(e){return i(e)?e.trim():""};n.trim=a},"598e":function(e,n,t){"use strict";(function(e){var n=t("bdbb").default;t("d4b5"),t("5c47"),t("64aa"),t("aa9c"),t("5ef2"),t("dd2b"),t("bf0f"),t("2797"),t("6a54");var o={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10};function i(e,n,t){this.__id__=e,t.objects[e]=this,this.__objectSignals__={},this.__propertyCache__={};var a=this;function r(e,n){var i=e[0],r=e[1];a[i]={connect:function(e){"function"===typeof e?(a.__objectSignals__[r]=a.__objectSignals__[r]||[],a.__objectSignals__[r].push(e),n||"destroyed"===i||t.exec({type:o.connectToSignal,object:a.__id__,signal:r})):console.error("Bad callback given to connect to signal "+i)},disconnect:function(e){if("function"===typeof e){a.__objectSignals__[r]=a.__objectSignals__[r]||[];var c=a.__objectSignals__[r].indexOf(e);-1!==c?(a.__objectSignals__[r].splice(c,1),n||0!==a.__objectSignals__[r].length||t.exec({type:o.disconnectFromSignal,object:a.__id__,signal:r})):console.error("Cannot find connection of signal "+i+" to "+e.name)}else console.error("Bad callback given to disconnect from signal "+i)}}}function c(e,n){var t=a.__objectSignals__[e];t&&t.forEach((function(e){e.apply(e,n)}))}for(var e in this.unwrapQObject=function(e){if(e instanceof Array){for(var n=new Array(e.length),o=0;o<e.length;++o)n[o]=a.unwrapQObject(e[o]);return n}if(!e||!e["__QObject*__"]||void 0===e.id)return e;var r=e.id;if(t.objects[r])return t.objects[r];if(e.data){var c=new i(r,e.data,t);return c.destroyed.connect((function(){if(t.objects[r]===c){delete t.objects[r];var e=[];for(var n in c)e.push(n);for(var o in e)delete c[e[o]]}})),c.unwrapProperties(),c}console.error("Cannot unwrap unknown QObject "+r+" without data.")},this.unwrapProperties=function(){for(var e in a.__propertyCache__)a.__propertyCache__[e]=a.unwrapQObject(a.__propertyCache__[e])},this.propertyUpdate=function(e,n){for(var t in n){var o=n[t];a.__propertyCache__[t]=o}for(var i in e)c(i,e[i])},this.signalEmitted=function(e,n){c(e,n)},n.methods.forEach((function(e){var n=e[0],i=e[1];a[n]=function(){for(var e,n=[],r=0;r<arguments.length;++r)"function"===typeof arguments[r]?e=arguments[r]:n.push(arguments[r]);t.exec({type:o.invokeMethod,object:a.__id__,method:i,args:n},(function(n){if(void 0!==n){var t=a.unwrapQObject(n);e&&e(t)}}))}})),n.properties.forEach((function(e){var n=e[0],i=e[1],c=e[2];a.__propertyCache__[n]=e[3],c&&(1===c[0]&&(c[0]=i+"Changed"),r(c,!0)),Object.defineProperty(a,i,{configurable:!0,get:function(){var e=a.__propertyCache__[n];return void 0===e&&console.warn('Undefined value in property cache for property "'+i+'" in object '+a.__id__),e},set:function(e){void 0!==e?(a.__propertyCache__[n]=e,t.exec({type:o.setProperty,object:a.__id__,property:n,value:e})):console.warn("Property setter for "+i+" called with undefined value!")}})})),n.signals.forEach((function(e){r(e,!1)})),n.enums)a[e]=n.enums[e]}"object"===n(e)&&(e.exports={QWebChannel:function(e,t){if("object"===n(e)&&"function"===typeof e.send){var a=this;this.transport=e,this.send=function(e){"string"!==typeof e&&(e=JSON.stringify(e)),a.transport.send(e)},this.transport.onmessage=function(e){var n=e.data;switch("string"===typeof n&&(n=JSON.parse(n)),n.type){case o.signal:a.handleSignal(n);break;case o.response:a.handleResponse(n);break;case o.propertyUpdate:a.handlePropertyUpdate(n);break;default:console.error("invalid message received:",e.data);break}},this.execCallbacks={},this.execId=0,this.exec=function(e,n){n?(a.execId===Number.MAX_VALUE&&(a.execId=Number.MIN_VALUE),e.hasOwnProperty("id")?console.error("Cannot exec message with property id: "+JSON.stringify(e)):(e.id=a.execId++,a.execCallbacks[e.id]=n,a.send(e))):a.send(e)},this.objects={},this.handleSignal=function(e){var n=a.objects[e.object];n?n.signalEmitted(e.signal,e.args):console.warn("Unhandled signal: "+e.object+"::"+e.signal)},this.handleResponse=function(e){e.hasOwnProperty("id")?(a.execCallbacks[e.id](e.data),delete a.execCallbacks[e.id]):console.error("Invalid response message received: ",JSON.stringify(e))},this.handlePropertyUpdate=function(e){for(var n in e.data){var t=e.data[n],i=a.objects[t.object];i?i.propertyUpdate(t.signals,t.properties):console.warn("Unhandled property update: "+t.object+"::"+t.signal)}a.exec({type:o.idle})},this.debug=function(e){a.send({type:o.debug,data:e})},a.exec({type:o.init},(function(e){for(var n in e)new i(n,e[n],a);for(var n in a.objects)a.objects[n].unwrapProperties();t&&t(a),a.exec({type:o.idle})}))}else console.error("The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: "+n(e)+", transport.send: "+n(e.send))}})}).call(this,t("dc84")(e))},c2d9:function(e,n,t){"use strict";t("6a54"),t("7a76"),t("c9b5"),t("bf0f"),t("2797"),t("dc8a"),t("aa77"),t("5c47"),t("a1c1"),t("e838"),t("0c26"),t("aa9c"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("4bea");function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}return function(e,n,t){n&&i(e.prototype,n),t&&i(e,t)}(e,[{key:"init",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,i){e.browserSupport||i("Your browser does not support Speech Synthesis");var a=(0,o.isNil)(n.listeners)?{}:n.listeners,r=!!(0,o.isNil)(n.splitSentences)||n.splitSentences,c=(0,o.isNil)(n.lang)?void 0:n.lang,s=(0,o.isNil)(n.volume)?1:n.volume,l=(0,o.isNil)(n.rate)?1:n.rate,u=(0,o.isNil)(n.pitch)?1:n.pitch,f=(0,o.isNil)(n.voice)?void 0:n.voice;Object.keys(a).forEach((function(e){var n=a[e];"onvoiceschanged"!==e&&(speechSynthesis[e]=function(e){n&&n(e)})})),e._loadVoices().then((function(n){a["onvoiceschanged"]&&a["onvoiceschanged"](n),!(0,o.isNil)(c)&&e.setLanguage(c),!(0,o.isNil)(f)&&e.setVoice(f),!(0,o.isNil)(s)&&e.setVolume(s),!(0,o.isNil)(l)&&e.setRate(l),!(0,o.isNil)(u)&&e.setPitch(u),!(0,o.isNil)(r)&&e.setSplitSentences(r),t({voices:n,lang:e.lang,voice:e.voice,volume:e.volume,rate:e.rate,pitch:e.pitch,splitSentences:e.splitSentences,browserSupport:e.browserSupport})})).catch((function(e){i(e)}))}))}},{key:"_fetchVoices",value:function(){return new Promise((function(e,n){setTimeout((function(){var t=speechSynthesis.getVoices();return(0,o.size)(t)>0?e(t):n("Could not fetch voices")}),100)}))}},{key:"_loadVoices",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch((function(t){if(0===n)throw t;return e._loadVoices(n-1)}))}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(e){var n,t=speechSynthesis.getVoices();if((0,o.isString)(e)&&(n=t.find((function(n){return n.name===e}))),(0,o.isObject)(e)&&(n=e),!n)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=n}},{key:"setLanguage",value:function(e){if(e=e.replace("_","-"),!(0,o.validateLocale)(e))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";this.lang=e}},{key:"setVolume",value:function(e){if(e=parseFloat(e),!(!(0,o.isNan)(e)&&e>=0&&e<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=e}},{key:"setRate",value:function(e){if(e=parseFloat(e),!(!(0,o.isNan)(e)&&e>=0&&e<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=e}},{key:"setPitch",value:function(e){if(e=parseFloat(e),!(!(0,o.isNan)(e)&&e>=0&&e<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=e}},{key:"setSplitSentences",value:function(e){this.splitSentences=e}},{key:"speak",value:function(e){var n=this;return new Promise((function(t,i){var a=e.text,r=e.listeners,c=void 0===r?{}:r,s=e.queue,l=void 0===s||s,u=(0,o.trim)(a);(0,o.isNil)(u)&&t(),!l&&n.cancel();var f=[],p=n.splitSentences?(0,o.splitSentences)(u):[u];p.forEach((function(e,a){var r=a===(0,o.size)(p)-1,s=new SpeechSynthesisUtterance;n.synthesisVoice&&(s.voice=n.synthesisVoice),n.lang&&(s.lang=n.lang),n.volume&&(s.volume=n.volume),n.rate&&(s.rate=n.rate),n.pitch&&(s.pitch=n.pitch),s.text=e,Object.keys(c).forEach((function(e){var n=c[e];s[e]=function(o){n&&n(o),"onerror"===e&&i({utterances:f,lastUtterance:s,error:o}),"onend"===e&&r&&t({utterances:f,lastUtterance:s})}})),f.push(s),speechSynthesis.speak(s)}))}))}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}]),e}(),r=a;n.default=r},f9c6:function(e,n,t){"use strict";t("6a54");var o=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=!1,t=!1;"string"!==typeof e&&(e&&!0===e.lineUp&&(n=!0),e&&!0===e.returnAudio&&(t=!0));if(t)return new Promise((function(n,o){s(e,t).then((function(e){n(e)})).catch((function(e){o(e)}))}));!r||n?(r=!0,s(e)):a.push(e)};var i=o(t("9b1b"));t("bf0f"),t("aa9c"),t("d4b5"),t("dd2b");var a=[],r=!1;function c(){return new Promise((function(e,n){console.log("准备访问接口获取语音token"),uni.request({url:"/baiduTokenApi",method:"POST",data:"grant_type=client_credentials&client_id=zOZm2BRLdXYgL3UiPtCMYdNn&client_secret=47yfAUDZAxmfBXYz3ibvxs9wTjO0tBfZ",header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){console.log("访问成功"),e(n)},fail:function(e){console.log("访问失败"),n(e)}})}))}function s(e,n){if(console.log("准备获取语音tok"),n)return new Promise((function(t,o){c().then((function(i){console.log("获取语音tok接口成功"),i.data&&i.data.access_token?(console.log("token: "+i.data.access_token),t(l(e,i.data.access_token,n))):(console.log("获取语音tok接口为空"),o("获取语音tok接口为空"))})).catch((function(e){console.log("获取语音tok接口失败"),o(e||"获取语音tok接口失败")}))}));c().then((function(n){console.log("获取语音tok接口成功"),n.data&&n.data.access_token?(console.log("token: "+n.data.access_token),l(e,n.data.access_token)):console.log("获取语音tok接口为空")})).catch((function(e){console.log("获取语音tok接口失败")}))}function l(e,n,t){"string"==typeof e&&(e={voiceSet:{tex:e}});var o=(0,i.default)({tok:n,cuid:n,ctp:1,lan:"zh"},e.voiceSet);if(t)return u(o,e.audioSet,e.audioCallback,e.lineUp,t);u(o,e.audioSet,e.audioCallback,e.lineUp,t)}function u(e,n,t,o,i){var c=uni.createInnerAudioContext();(function(e,n){e&&(n.volume=e.volume||1,n.startTime=e.startTime||0,n.loop=e.loop||!1,n.obeyMuteSwitch=!e.obeyMuteSwitch||"boolean"!=typeof e.obeyMuteSwitch||e.obeyMuteSwitch)})(n,c);var l=[];for(var u in e)l.push(u+"="+encodeURIComponent(encodeURIComponent(e[u])));if(c.src="".concat("https://tsn.baidu.com/text2audio","?").concat(l.join("&")),i)return c.onEnded((function(){console.log("音频播放结束"),console.log("销毁音频实例"),c.destroy(),c=null})),c.onError((function(e){t&&t.onError&&"function"==typeof t.onError&&t.onError(e),console.log("音频播放错误: "+JSON.stringify(e)),console.log("销毁音频实例"),c.destroy(),c=null})),c;c.onPlay((function(){console.log("音频播放开始"),t&&t.onPlay&&"function"==typeof t.onPlay&&t.onPlay()})),c.onPause((function(){t&&t.onPause&&"function"==typeof t.onPause&&t.onPause()})),c.onWaiting((function(){t&&t.onWaiting&&"function"==typeof t.onWaiting&&t.onWaiting()})),c.onStop((function(){t&&t.onStop&&"function"==typeof t.onStop&&t.onStop()})),c.onTimeUpdate((function(){t&&t.onTimeUpdate&&"function"==typeof t.onTimeUpdate&&t.onTimeUpdate()})),c.onSeeking((function(){t&&t.onSeeking&&"function"==typeof t.onSeeking&&t.onSeeking()})),c.onSeeked((function(){t&&t.onSeeked&&"function"==typeof t.onSeeked&&t.onSeeked()})),c.onEnded((function(){console.log("音频播放结束"),console.log("销毁音频实例"),c.destroy(),c=null,t&&t.onEnded&&"function"==typeof t.onEnded&&t.onEnded(),!1!==o&&(a.length>0?(console.log("队列中"),s(a[0]),a.splice(0,1)):(console.log("队列为零"),r=!1))})),c.onError((function(e){t&&t.onError&&"function"==typeof t.onError&&t.onError(e),console.log("音频播放错误: "+JSON.stringify(e)),console.log("销毁音频实例"),c.destroy(),c=null})),c.play()}}}]);